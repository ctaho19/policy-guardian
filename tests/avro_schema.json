{
  "type": "record",
  "name": "etip_controls_monitoring_metrics",
  "namespace": "com.capitalone.BAENTERPRISETECHINSIGHTS",
  "doc": "This dataset is used for analytics and reporting for the Tech Controls Health Monitoring process.",
  "fields": [
    {"name": "date", "type": {"type": "long", "logicalType": "timestamp-millis"}, "doc": "UTC timestamp (milliseconds since epoch) when the metric was calculated"},
    {"name": "control_id", "type": "string", "doc": "Control Identifier (e.g., CTRL-1077231)"},
    {"name": "monitoring_metric_id", "type": "int", "doc": "Specific monitoring metric identifier (integer, e.g., 1, 2)"},
    {"name": "monitoring_metric_value", "type": "double", "doc": "Calculated metric value as a percentage (0-100)"},
    {"name": "compliance_status", "type": "string", "doc": "Compliance status based on thresholds (Green, Yellow, Red)"},
    {"name": "numerator", "type": "long", "doc": "Numerator value used in the metric calculation"},
    {"name": "denominator", "type": "long", "doc": "Denominator value used in the metric calculation"},
    {"name": "non_compliant_resources", "type": ["null", {"type": "array", "items": "string"}], "default": null, "doc": "Optional array of JSON strings detailing non-compliant resources, if status is not Green."}
  ]
} 
